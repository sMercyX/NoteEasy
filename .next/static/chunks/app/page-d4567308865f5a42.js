(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1652:(e,t,s)=>{Promise.resolve().then(s.bind(s,7584))},7584:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var l=s(5155),r=s(6046),o=s(2115),a=s(5565);let n={src:"/_next/static/media/delete.fc9aec05.svg",height:24,width:24,blurWidth:0,blurHeight:0},c={src:"/_next/static/media/edit.02779e44.svg",height:24,width:24,blurWidth:0,blurHeight:0},i=e=>{let{note:t,onEdit:s,onDelete:r}=e;return(0,l.jsxs)("div",{className:"flex  flex-col justify-between  rounded-xl p-4 min-h-60",style:{backgroundColor:t.color},children:[(0,l.jsx)("textarea",{className:"bg-transparent resize-none ",readOnly:!0,cols:10,rows:7,maxLength:200,value:t.text}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("small",{children:[t.creator," "]}),(0,l.jsx)("small",{children:t.date})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(a.default,{src:c,className:"hover:scale-110 transition-all w-5",onClick:()=>s(t.id,t.text,t.color),alt:"editIcon"}),(0,l.jsx)(a.default,{src:n,className:"hover:scale-110 transition-all w-5",alt:"deleteIcon",onClick:()=>r(t.id)})]})]})]})},d=e=>{let{noteText:t,setNoteText:s,noteColor:r,setNoteColor:o,onSaveNote:a}=e;return(0,l.jsxs)("div",{className:"flex  flex-col justify-between  rounded-xl p-4 min-h-60",style:{backgroundColor:r},children:[(0,l.jsx)("textarea",{className:"bg-transparent resize-none ",cols:10,rows:7,maxLength:200,value:t,placeholder:"Typing ....",onChange:e=>s(e.target.value)}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[["#fef08a","#FCA5A5","#A5B4FC","#86EFAC","#F9A8D4"].map(e=>(0,l.jsx)("button",{className:"w-6 h-6 rounded-full border-2  ",style:{backgroundColor:e},onClick:()=>o(e)},e)),(0,l.jsx)("button",{onClick:a,children:"Save"})]})]})};var x=s(55);let h=e=>{let t,{openAdd:s,setOpenAdd:r,editToggle:a,setEditToggle:n}=e,[c,h]=(0,o.useState)(""),[u,m]=(0,o.useState)("#fef08a"),[g,f]=(0,o.useState)("latest"),{notes:j,addNote:N,updateNote:b,deleteNote:p}=(0,x.A)(),v=(e,t,s)=>{r(!1),n(e),h(t),m(s)},y=()=>{if(a)b(a,c,u,new Date().toLocaleDateString());else{let e=new Date,t=localStorage.getItem("username");N({id:Date.now(),text:c,creator:null!=t?t:"guest",date:e.toLocaleDateString(),color:u})}h(""),m("#fef08a"),n(0),r(!1)},C=e=>{p(e)};return"latest"===g&&(t=j),"color"===g&&(t=j.slice().sort((e,t)=>e.color.localeCompare(t.color))),(0,o.useEffect)(()=>{!0==s&&h(""),m("#fef08a")},[s]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("small",{className:"flex justify-end mr-6 mb-2",children:["sortd by",(0,l.jsxs)("select",{value:g,onChange:e=>f(e.target.value),children:[(0,l.jsx)("option",{value:"latest",children:"latest"}),(0,l.jsx)("option",{value:"color",children:"color"})]})]}),(0,l.jsxs)("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-4",children:[!0==s&&(0,l.jsx)(d,{noteText:c,setNoteText:h,noteColor:u,setNoteColor:m,onSaveNote:y}),null==t?void 0:t.map(e=>a===e.id?(0,l.jsx)(d,{noteText:c,noteColor:u,setNoteText:h,setNoteColor:m,onSaveNote:y},e.id):(0,l.jsx)(i,{note:e,onEdit:v,onDelete:C},e.id))]})]})};var u=s(6325);let m=e=>{let{setOpenHistory:t}=e,{editHistory:s}=(0,x.A)(),n=(0,r.useRouter)();return(0,o.useEffect)(()=>{localStorage.getItem("isAuthenticated")||n.push("/login")}),(0,l.jsxs)("div",{className:"container mx-auto px-4 py-6 ",children:[(0,l.jsx)("a",{onClick:()=>t(!t),className:"absolute cursor-pointer",children:(0,l.jsx)(a.default,{src:u.A,alt:"Go Back",width:40})}),(0,l.jsx)("header",{className:"flex  items-center justify-center mb-6",children:(0,l.jsx)("h1",{className:"text-3xl font-bold ",children:"History"})}),(0,l.jsx)("div",{className:"rounded-lg bg-blue-200 ",children:(0,l.jsx)("ul",{className:"space-y-4 p-4 h-[80vh] overflow-y-scroll ",children:s.map(e=>(0,l.jsxs)("li",{className:"border border-gray-300 rounded-lg shadow-md p-4 bg-white ",children:[(0,l.jsx)("div",{className:"mb-2",children:e.textBefore==e.textAfter?(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,l.jsx)("strong",{children:"Text :"})," ",e.textBefore]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,l.jsx)("strong",{children:"Text :"})," ",e.textBefore]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,l.jsx)("strong",{children:"Change Text To : "})," ",e.textAfter]})]})}),(0,l.jsx)("div",{className:"mb-2",children:e.colorBefore===e.colorAfter?(0,l.jsxs)("p",{className:"text-sm text-gray-600 flex items-center",children:[(0,l.jsx)("strong",{children:"Color :"}),(0,l.jsx)("span",{style:{backgroundColor:e.colorBefore},className:"inline-block w-4 h-4 rounded-full ml-2 border border-gray-300"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{className:"text-sm text-gray-600 flex items-center",children:[(0,l.jsx)("strong",{children:"Color :"}),(0,l.jsx)("span",{style:{backgroundColor:e.colorBefore},className:"inline-block w-4 h-4 rounded-full ml-2 border border-gray-300"})]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 flex items-center",children:[(0,l.jsx)("strong",{children:"Change Color To:"}),(0,l.jsx)("span",{style:{backgroundColor:e.colorAfter},className:"inline-block w-4 h-4 rounded-full ml-2 border border-gray-300"})]})]})}),(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["Updated at : ",e.date]})]},e.id))})})]})};function g(){let{notes:e}=(0,x.A)(),[t,s]=(0,o.useState)(!1),[a,n]=(0,o.useState)(0),[c,i]=(0,o.useState)(!1),d=(0,r.useRouter)();return(0,o.useEffect)(()=>{localStorage.getItem("isAuthenticated")||d.push("/login")},[e]),(0,l.jsx)("main",{className:"container mx-auto px-4",children:c?(0,l.jsx)(m,{setOpenHistory:i}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("header",{className:"flex justify-between items-center py-2 sticky top-0 bg-white z-10",children:[(0,l.jsx)("h1",{className:" text-2xl",children:"Note Easy"}),(0,l.jsxs)("div",{className:"flex gap-4 items-center ",children:[(0,l.jsx)("a",{onClick:()=>i(!0),className:"hover:underline cursor-pointer",children:"History Page"}),(0,l.jsx)("a",{onClick:()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("username"),d.push("/login")},className:"hover:underline cursor-pointer",children:"Logout"}),(0,l.jsx)("button",{className:"px-3 py-2 border border-yellow-200 rounded-xl hover:scale-110 transition-all",onClick:()=>(s(!t),n(0)),children:"Add Note"})]})]}),(0,l.jsx)(h,{openAdd:t,setOpenAdd:s,editToggle:a,setEditToggle:n})]})})}},55:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=(0,s(9827).v)(e=>({notes:[],editHistory:[],addNote:t=>e(e=>({notes:[t,...e.notes]})),updateNote:(t,s,l,r)=>e(e=>{let o=e.notes.find(e=>e.id===t);if(!o)return e;let a=o.text!==s,n=o.color!==l;if(!a&&!n)return e;let c={...o,text:s,color:l,date:r},i={id:Date.now(),textBefore:o.text,textAfter:c.text,colorBefore:o.color,colorAfter:c.color,date:c.date};return{notes:e.notes.map(e=>e.id===t?c:e),editHistory:[i,...e.editHistory]}}),deleteNote:t=>e(e=>({notes:e.notes.filter(e=>e.id!==t)}))}))},6325:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l={src:"/_next/static/media/goBack.a885698f.svg",height:200,width:200,blurWidth:0,blurHeight:0}}},e=>{var t=t=>e(e.s=t);e.O(0,[500,441,517,358],()=>t(1652)),_N_E=e.O()}]);